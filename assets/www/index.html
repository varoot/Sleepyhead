<!doctype html>
<html>
<head>
	<title>Test PhoneGap</title>
	<link rel="stylesheet" href="jquery.mobile-1.0.1.min.css">
	<link rel="stylesheet" href="mobiscroll-1.5.3.min.css">
	<link rel="stylesheet" href="style.css">
	<script type="text/javascript" charset="utf-8" src="phonegap-1.4.1.js"></script>
	<script src="jquery-1.7.1.min.js"></script>
    <script src="jquery.mobile-1.0.1.min.js"></script>
    <script src="mobiscroll-1.5.3.min.js"></script>
	<script type="text/javascript" charset="utf-8">
		document.addEventListener("deviceready", onDeviceReady, false);
		var db;
		
		function createDB(tx) {
			tx.executeSql('CREATE TABLE IF NOT EXISTS data (id unique, name)');
		}
		
		function errorCB(err) {
			alert('Error: '+err);
		}

		function successCB() {
			//alert('Success');
		}

		// PhoneGap is ready
		function onDeviceReady() {
			db = window.openDatabase("sleepyhead", "1.0", "Sleepyhead DB", 1000000);
			db.transaction(createDB, errorCB, successCB);
		}
		
		$(function() {
			$("input[id|=date]").scroller({ preset: 'datetime' });
			$("#activity").change(function() {
				if ($(this).children('option[selected]').eq(0).hasClass('duration')) {
					$("#input-date-end").show();
				} else {
					$("#input-date-end").hide();
				}
			});
		});
	</script>
</head>
<body>
	<div data-role="page" id="page1">
		<div data-theme="a" data-role="header" data-position="fixed">
			<h3>
				Sleepyhead App
			</h3>
		</div>
		<div data-role="content">
			<form url="" action="POST">
				<div data-role="fieldcontain">
					<label for="activity">
						Activity:
					</label>
					<select name="activity" id="activity">
						<option value="1" class="duration">Alcohol</option>
						<option value="2" class="duration">Coffee</option>
						<option value="3" class="duration">Eating</option>
						<option value="4">First Alarm Time</option>
						<option value="5">Go to Bed</option>
						<option value="6" class="duration">Lecture</option>
						<option value="7" class="duration">Meeting</option>
						<option value="8" class="duration">Study/Work</option>
						<option value="9" class="duration">Take a Shower</option>
						<option value="10" selected>Wake Up</option>
						<option value="11" class="duration">Watching Video</option>
						<option value="12" class="duration">Workout</option>
						<option value="13" class="duration">Others</option>
					</select>
				</div>
				<div data-role="fieldcontain">
					<label for="date-start">Start Date/Time:</label>
					<input type="date" name="date_start" id="date-start" class="mobiscroll">
				</div>
				<div data-role="fieldcontain" id="input-date-end" style="display: none">
					<label for="date-end">End Date/Time:</label>
					<input type="date" name="date_end" id="date-end" class="mobiscroll">
				</div>
				<div data-role="fieldcontain">
					<label for="note">Note</label>
					<textarea></textarea>
				</div>
				<input data-theme="b" value="Submit" type="submit">
			</form>
		</div>
	</div>
</body>
</html>